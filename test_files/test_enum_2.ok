enum animal {
    dog { dog inner },
    cat { cat inner },
    # elephant { i8 size },
    elephant { elephant inner },
}

struct dog {
    u8 size,
    # [u8; 6] a,
    f64 weight,
}

struct cat {
    u32 size,
    u8 lives,
}

struct elephant {
    i8 size,
}

fun main(): u8 {

    dog dog_strct = dog { 
        size = 42, 
        # a = [0, 0, 0, 0, 0, 0, 0], 
        weight = 4.3 
    };
    # cat cat_strct = cat { size = 4, lives = 7 };
    # animal elephant_struct = animal:elephant { size = 10 };

    # animal eleph = animal:elephant { 
    #     inner = elephant { size = 10 } 
    # };

    # animal dog_animal = animal:dog { inner = dog_strct }; # error

    # animal dog_animal = animal:dog { inner = dog { size = 10, weight=4.3 } };
    animal dog_animal = animal:dog { inner = dog_strct };
    
    if let animal:dog { inner=inner } = dog_animal {
        ret inner.size;
    }

    ret 0;
}
